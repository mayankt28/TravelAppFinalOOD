{"ast":null,"code":"var _jsxFileName = \"/Users/mayank/Downloads/Datta/TravelCompOODWebApp/travel_comp_odd_web_app/src/components/Trip.js\";\nimport React, { Component } from \"react\";\nimport NavBar from \"./Navbar\";\nimport Footer from \"./Footer\";\nimport { addCollaboratorApi, DownloadPDF, getTripById, updateTrip } from \"../Api\";\nimport M from \"materialize-css\";\nimport Swal from \"sweetalert2\";\nimport fileDownload from \"react-file-download\";\n// import queryString from \"query-string\";\n// import { withRouter } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class Trip extends Component {\n  constructor(props) {\n    super(props);\n    // console.log(\"Props: \", props);\n    this.id = this.props.trip._id;\n    this.state = {\n      error: false,\n      trips: this.props.trip\n    };\n    this.remainingBudget = 0;\n    this.previousRemainingBudget = 0;\n    this.initializeComponents = this.initializeComponents.bind(this);\n    this.onLocationAdded = this.onLocationAdded.bind(this);\n    this.toObject = this.toObject.bind(this);\n    this.onDelete = this.onDelete.bind(this);\n    this.downloadPdf = this.downloadPdf.bind(this);\n    this.addCollaborator = this.addCollaborator.bind(this);\n    this.loadTrip = this.loadTrip.bind(this);\n  }\n  initializeComponents() {\n    var elems = document.querySelectorAll(\".collapsible\");\n    var instances = M.Collapsible.init(elems, {});\n    var elems = document.querySelectorAll(\"#place-input-\" + this.id); // + this.id);\n\n    let placeNames = this.toObject(this.props.places || []);\n    let locationNameIdMap = this.toObject(this.props.places || [], true);\n    this.locationNameIdMap = locationNameIdMap;\n    // console.log(\"Place Names: \", placeNames);\n    var instances = M.Autocomplete.init(elems, {\n      data: placeNames,\n      onAutocomplete: this.onLocationAdded\n    });\n    this.autoCompleteInstance = instances[0];\n  }\n  downloadPdf() {\n    DownloadPDF(this.state.trips).then(val => {\n      if (val[0]) {\n        fileDownload(val[1], this.state.trips._id + \".pdf\");\n      } else {\n        Swal.fire({\n          title: \"Oops!! Download failed\",\n          text: val[1],\n          icon: \"error\"\n        });\n      }\n    });\n  }\n  onDelete(el) {\n    let locationId = el.target.dataset.placeId;\n    let locationRemovedTrip = this.state.trips.placesToVisit.filter(el => {\n      return el._id != locationId;\n    });\n    let newTrip = this.state.trips;\n    newTrip.placesToVisit = locationRemovedTrip;\n    this.setState(prevState => ({\n      ...prevState,\n      trips: newTrip\n    }));\n    updateTrip(newTrip);\n  }\n  toObject(arr, makeMap = false) {\n    var rv = {};\n    // var locationNameIdMap = {};\n    for (var i = 0; i < arr.length; i++) {\n      if (makeMap) {\n        rv[arr[i].Name] = arr[i];\n      } else {\n        rv[arr[i].Name] = null;\n      }\n      //   locationNameIdMap[arr[i].Name] = arr[i]._id;\n    }\n    return rv;\n  }\n  onLocationAdded(el) {\n    let locationid = this.locationNameIdMap[el];\n    // console.log(locationid);\n    let trip = this.state.trips;\n    trip.placesToVisit.push(locationid);\n    updateTrip(trip).then(this.loadTrip);\n    this.forceUpdate();\n    console.log(document.getElementById(\"place-input-\" + this.id).val); //.val = \"\";\n  }\n  addCollaborator(event) {\n    let email = document.getElementById(\"collaborator-input-\" + this.id).value;\n    addCollaboratorApi(this.props.trip, email).then(val => {\n      if (val[0]) {\n        this.loadTrip();\n      } else {\n        Swal.fire({\n          icon: \"error\",\n          title: \"Something went wrong\",\n          text: val[1]\n        });\n      }\n    });\n  }\n  componentDidMount() {\n    if (document.readyState !== \"loading\") {\n      this.initializeComponents();\n    } else {\n      document.addEventListener(\"DOMContentLoaded\", this.initializeComponents);\n    }\n  }\n  loadTrip() {\n    console.log(\"Loading trip\");\n    getTripById(this.state.trips._id).then(val => {\n      //   console.log(val);\n      if (val[0] === false) {\n        // this.setState(prevState=>({...prevState});\n      } else {\n        this.setState(prevState => ({\n          ...prevState,\n          trip: val[1],\n          error: false\n        }));\n        this.forceUpdate();\n      }\n    });\n  }\n  render() {\n    var _this$state$trips, _this$state$trips$col, _this$state$trips2, _this$state$trips2$pl, _this$state$trips3, _this$state$trips5, _this$state$trips5$tr, _this$state$trips6, _this$state$trips6$tr;\n    // console.log(this.state);\n    if (this.state.error) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"Oops something went wrong.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 14\n      }, this);\n    }\n    let colaboratorui = \"\";\n    if ((((_this$state$trips = this.state.trips) === null || _this$state$trips === void 0 ? void 0 : (_this$state$trips$col = _this$state$trips.collaborators) === null || _this$state$trips$col === void 0 ? void 0 : _this$state$trips$col.length) || 0) > 0) {\n      let collaborators = [];\n      for (var i = 0; i < this.state.trips.collaborators.length; i++) {\n        var colab = this.state.trips.collaborators[i];\n        console.log(\"Colab: \", colab);\n        collaborators.push( /*#__PURE__*/_jsxDEV(\"li\", {\n          className: \"collection-item avatar\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: \"https://static.vecteezy.com/system/resources/previews/007/409/979/original/people-icon-design-avatar-icon-person-icons-people-icons-are-set-in-trendy-flat-style-user-icon-set-vector.jpg\",\n            className: \"circle\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 154,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"title\",\n            children: [colab.firstname, \" \", colab.lastname]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 158,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: colab.email\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 11\n        }, this));\n      }\n      colaboratorui = /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: /*#__PURE__*/_jsxDEV(\"ul\", {\n          class: \"collection\",\n          children: collaborators\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 9\n      }, this);\n    }\n    let placesToVisitUI = \"\";\n    if ((((_this$state$trips2 = this.state.trips) === null || _this$state$trips2 === void 0 ? void 0 : (_this$state$trips2$pl = _this$state$trips2.placesToVisit) === null || _this$state$trips2$pl === void 0 ? void 0 : _this$state$trips2$pl.length) || 0) > 0) {\n      var placesUI = [];\n      for (var i = 0; i < this.state.trips.placesToVisit.length; i++) {\n        var place = this.state.trips.placesToVisit[i];\n        placesUI.push( /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"collapsible-header\",\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              class: \"material-icons large\",\n              children: \"place\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 180,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              style: {\n                fontStyle: \"bold\"\n              },\n              children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: place.Name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 182,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 181,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"new badge\",\n              \"data-badge-caption\": \"\",\n              children: [\"$ \", place.EntranceFeeINR]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 184,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n              class: \"material-icons\",\n              \"data-place-id\": place._id,\n              onClick: this.onDelete,\n              children: \"delete\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 187,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 179,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"collapsible-body\",\n            children: /*#__PURE__*/_jsxDEV(\"table\", {\n              className: \"striped centered highlight\",\n              children: [/*#__PURE__*/_jsxDEV(\"tbody\", {\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Type\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 199,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 198,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: place.Type\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 201,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 197,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"City\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 205,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 204,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: place.City\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 207,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 203,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"State\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 211,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 210,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: place.State\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 213,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 209,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Zone\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 217,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 216,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: place.Zone\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 219,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 215,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Establishment Year\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 223,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 222,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: place.EstablishmentYear\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 225,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 221,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Time Needed To Visit\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 229,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 228,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: place.TimeNeededToVisit\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 231,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 227,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Google Review Rating\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 235,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 234,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: place.GoogleReviewRating\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 237,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 233,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Airport With 50 km Radius\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 241,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 240,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: place.AirportWith50kmRadius\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 243,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 239,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Significance\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 247,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 246,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: place.Significance\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 249,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 245,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Best Time To Visit\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 253,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 252,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: place.BestTimeToVisit\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 255,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 251,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 196,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 11\n        }, this));\n      }\n      placesToVisitUI = /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"collapsible popout\",\n        style: {\n          // width: \"90%\",\n          // marginLeft: \"5%\",\n          marginBottom: \"20px\"\n        },\n        children: placesUI\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 9\n      }, this);\n    }\n    let previousRemainingBudget = this.remainingBudget;\n    this.remainingBudget = ((_this$state$trips3 = this.state.trips) === null || _this$state$trips3 === void 0 ? void 0 : _this$state$trips3.budget) || 0;\n    for (let i = 0; i < (((_this$state$trips4 = this.state.trips) === null || _this$state$trips4 === void 0 ? void 0 : _this$state$trips4.placesToVisit.length) || 0); i++) {\n      var _this$state$trips4;\n      var places = this.state.trips.placesToVisit[i];\n      //   console.log(\"Remaining budget: \", places, this.state.trips);\n      this.remainingBudget -= places.EntranceFeeINR || 0;\n    }\n    if (previousRemainingBudget >= 0 && this.remainingBudget < 0) {\n      Swal.fire({\n        icon: \"error\",\n        title: \"Budget Exceeded\",\n        text: \"You have exceeded you trip budget.\",\n        allowOutsideClick: false\n      });\n    }\n    let textColor = \"\";\n    if (this.remainingBudget < 0) {\n      textColor = \"red-text\";\n    }\n    let collaboratorInputId = \"collaborator-input-\" + this.id;\n    let placesInputId = \"place-input-\" + this.id;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container z-depth-4\",\n      style: {\n        marginTop: \"10px\",\n        marginBottom: \"10px\",\n        borderRadius: \"10px\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        style: {\n          margin: \"0.5rem 0 1rem 0\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col s12 m6 l4 center-align\",\n          style: {\n            padding: \"10px\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: [(_this$state$trips5 = this.state.trips) === null || _this$state$trips5 === void 0 ? void 0 : (_this$state$trips5$tr = _this$state$trips5.tripCreator) === null || _this$state$trips5$tr === void 0 ? void 0 : _this$state$trips5$tr.firstname, \" \", (_this$state$trips6 = this.state.trips) === null || _this$state$trips6 === void 0 ? void 0 : (_this$state$trips6$tr = _this$state$trips6.tripCreator) === null || _this$state$trips6$tr === void 0 ? void 0 : _this$state$trips6$tr.lastname]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 310,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Trip Creator\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 314,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 306,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col s12 m6 l4 center-align\",\n          style: {\n            padding: \"10px\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: this.state.trips.tripDate.split(\"T\")[0]\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 320,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Start Date\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 321,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 316,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col s12 m6 l4 center-align\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              padding: \"10px\",\n              marginTop: \"25px\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Allocated Budget: \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 326,\n                columnNumber: 17\n              }, this), \" $ \", this.state.trips.budget]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 325,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n              className: textColor,\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Remaining Budget: \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 329,\n                columnNumber: 17\n              }, this), \" $ \", this.remainingBudget]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 328,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 324,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 323,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 305,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col s10 m4 offfset-m6 l3 offset-l4\",\n          children: /*#__PURE__*/_jsxDEV(\"a\", {\n            class: \"waves-effect btn right\",\n            onClick: this.downloadPdf,\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              class: \"material-icons left\",\n              children: \"download\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 338,\n              columnNumber: 15\n            }, this), \"Download PDF\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 337,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 336,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 335,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        style: {\n          paddingLeft: \"25px\",\n          paddingRight: \"25px\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col s12 l3\",\n          children: /*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"left-align\",\n            children: \"Collaborators\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 347,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 346,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col s8 l7\",\n          style: {\n            marginTop: \"15px\"\n          },\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"input-field col s12\",\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"material-icons prefix\",\n              children: \"people\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 351,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              id: collaboratorInputId\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 352,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              for: collaboratorInputId,\n              children: \"Add collaborators\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 353,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 350,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 349,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col s4 l2\",\n          style: {\n            marginTop: \"30px\"\n          },\n          children: /*#__PURE__*/_jsxDEV(\"a\", {\n            class: \"waves-effect btn right\",\n            onClick: this.addCollaborator,\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              class: \"material-icons left\",\n              children: \"add\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 358,\n              columnNumber: 15\n            }, this), \"Add\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 357,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 356,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 342,\n        columnNumber: 9\n      }, this), colaboratorui, /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        style: {\n          paddingLeft: \"25px\",\n          paddingRight: \"25px\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col s12 l3\",\n          children: /*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"left-align\",\n            children: \"Places To Visit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 370,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 369,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col s12 l9\",\n          style: {\n            marginTop: \"15px\"\n          },\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"input-field col s12\",\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"material-icons prefix\",\n              children: \"place\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 374,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              id: placesInputId,\n              class: \"autocomplete\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 375,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              for: placesInputId,\n              children: \"Add new locations\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 376,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 373,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 372,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 365,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: placesToVisitUI\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 381,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 297,\n      columnNumber: 7\n    }, this);\n  }\n}\n\n// export default withRouter(Trip);","map":{"version":3,"names":["React","Component","NavBar","Footer","addCollaboratorApi","DownloadPDF","getTripById","updateTrip","M","Swal","fileDownload","jsxDEV","_jsxDEV","Trip","constructor","props","id","trip","_id","state","error","trips","remainingBudget","previousRemainingBudget","initializeComponents","bind","onLocationAdded","toObject","onDelete","downloadPdf","addCollaborator","loadTrip","elems","document","querySelectorAll","instances","Collapsible","init","placeNames","places","locationNameIdMap","Autocomplete","data","onAutocomplete","autoCompleteInstance","then","val","fire","title","text","icon","el","locationId","target","dataset","placeId","locationRemovedTrip","placesToVisit","filter","newTrip","setState","prevState","arr","makeMap","rv","i","length","Name","locationid","push","forceUpdate","console","log","getElementById","event","email","value","componentDidMount","readyState","addEventListener","render","_this$state$trips","_this$state$trips$col","_this$state$trips2","_this$state$trips2$pl","_this$state$trips3","_this$state$trips5","_this$state$trips5$tr","_this$state$trips6","_this$state$trips6$tr","children","fileName","_jsxFileName","lineNumber","columnNumber","colaboratorui","collaborators","colab","className","src","firstname","lastname","class","placesToVisitUI","placesUI","place","style","fontStyle","EntranceFeeINR","onClick","Type","City","State","Zone","EstablishmentYear","TimeNeededToVisit","GoogleReviewRating","AirportWith50kmRadius","Significance","BestTimeToVisit","marginBottom","budget","_this$state$trips4","allowOutsideClick","textColor","collaboratorInputId","placesInputId","marginTop","borderRadius","margin","padding","tripCreator","tripDate","split","paddingLeft","paddingRight","type","for"],"sources":["/Users/mayank/Downloads/Datta/TravelCompOODWebApp/travel_comp_odd_web_app/src/components/Trip.js"],"sourcesContent":["import React, { Component } from \"react\";\r\nimport NavBar from \"./Navbar\";\r\nimport Footer from \"./Footer\";\r\nimport {\r\n  addCollaboratorApi,\r\n  DownloadPDF,\r\n  getTripById,\r\n  updateTrip,\r\n} from \"../Api\";\r\nimport M from \"materialize-css\";\r\nimport Swal from \"sweetalert2\";\r\nimport fileDownload from \"react-file-download\";\r\n// import queryString from \"query-string\";\r\n// import { withRouter } from \"react-router-dom\";\r\n\r\nexport default class Trip extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    // console.log(\"Props: \", props);\r\n    this.id = this.props.trip._id;\r\n    this.state = { error: false, trips: this.props.trip };\r\n    this.remainingBudget = 0;\r\n    this.previousRemainingBudget = 0;\r\n    this.initializeComponents = this.initializeComponents.bind(this);\r\n    this.onLocationAdded = this.onLocationAdded.bind(this);\r\n    this.toObject = this.toObject.bind(this);\r\n    this.onDelete = this.onDelete.bind(this);\r\n    this.downloadPdf = this.downloadPdf.bind(this);\r\n    this.addCollaborator = this.addCollaborator.bind(this);\r\n    this.loadTrip = this.loadTrip.bind(this);\r\n  }\r\n\r\n  initializeComponents() {\r\n    var elems = document.querySelectorAll(\".collapsible\");\r\n    var instances = M.Collapsible.init(elems, {});\r\n\r\n    var elems = document.querySelectorAll(\"#place-input-\" + this.id); // + this.id);\r\n\r\n    let placeNames = this.toObject(this.props.places || []);\r\n    let locationNameIdMap = this.toObject(this.props.places || [], true);\r\n    this.locationNameIdMap = locationNameIdMap;\r\n    // console.log(\"Place Names: \", placeNames);\r\n    var instances = M.Autocomplete.init(elems, {\r\n      data: placeNames,\r\n      onAutocomplete: this.onLocationAdded,\r\n    });\r\n    this.autoCompleteInstance = instances[0];\r\n  }\r\n\r\n  downloadPdf() {\r\n    DownloadPDF(this.state.trips).then((val) => {\r\n      if (val[0]) {\r\n        fileDownload(val[1], this.state.trips._id + \".pdf\");\r\n      } else {\r\n        Swal.fire({\r\n          title: \"Oops!! Download failed\",\r\n          text: val[1],\r\n          icon: \"error\",\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  onDelete(el) {\r\n    let locationId = el.target.dataset.placeId;\r\n    let locationRemovedTrip = this.state.trips.placesToVisit.filter((el) => {\r\n      return el._id != locationId;\r\n    });\r\n    let newTrip = this.state.trips;\r\n    newTrip.placesToVisit = locationRemovedTrip;\r\n    this.setState((prevState) => ({\r\n      ...prevState,\r\n      trips: newTrip,\r\n    }));\r\n    updateTrip(newTrip);\r\n  }\r\n\r\n  toObject(arr, makeMap = false) {\r\n    var rv = {};\r\n    // var locationNameIdMap = {};\r\n    for (var i = 0; i < arr.length; i++) {\r\n      if (makeMap) {\r\n        rv[arr[i].Name] = arr[i];\r\n      } else {\r\n        rv[arr[i].Name] = null;\r\n      }\r\n      //   locationNameIdMap[arr[i].Name] = arr[i]._id;\r\n    }\r\n    return rv;\r\n  }\r\n  onLocationAdded(el) {\r\n    let locationid = this.locationNameIdMap[el];\r\n    // console.log(locationid);\r\n    let trip = this.state.trips;\r\n    trip.placesToVisit.push(locationid);\r\n    updateTrip(trip).then(this.loadTrip);\r\n    this.forceUpdate();\r\n    console.log(document.getElementById(\"place-input-\" + this.id).val); //.val = \"\";\r\n  }\r\n\r\n  addCollaborator(event) {\r\n    let email = document.getElementById(\"collaborator-input-\" + this.id).value;\r\n    addCollaboratorApi(this.props.trip, email).then((val) => {\r\n      if (val[0]) {\r\n        this.loadTrip();\r\n      } else {\r\n        Swal.fire({\r\n          icon: \"error\",\r\n          title: \"Something went wrong\",\r\n          text: val[1],\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  componentDidMount() {\r\n    if (document.readyState !== \"loading\") {\r\n      this.initializeComponents();\r\n    } else {\r\n      document.addEventListener(\"DOMContentLoaded\", this.initializeComponents);\r\n    }\r\n  }\r\n\r\n  loadTrip() {\r\n    console.log(\"Loading trip\");\r\n    getTripById(this.state.trips._id).then((val) => {\r\n      //   console.log(val);\r\n      if (val[0] === false) {\r\n        // this.setState(prevState=>({...prevState});\r\n      } else {\r\n        this.setState((prevState) => ({\r\n          ...prevState,\r\n          trip: val[1],\r\n          error: false,\r\n        }));\r\n        this.forceUpdate();\r\n      }\r\n    });\r\n  }\r\n\r\n  render() {\r\n    // console.log(this.state);\r\n    if (this.state.error) {\r\n      return <div>Oops something went wrong.</div>;\r\n    }\r\n    let colaboratorui = \"\";\r\n    if ((this.state.trips?.collaborators?.length || 0) > 0) {\r\n      let collaborators = [];\r\n      for (var i = 0; i < this.state.trips.collaborators.length; i++) {\r\n        var colab = this.state.trips.collaborators[i];\r\n        console.log(\"Colab: \", colab);\r\n        collaborators.push(\r\n          <li className=\"collection-item avatar\">\r\n            <img\r\n              src=\"https://static.vecteezy.com/system/resources/previews/007/409/979/original/people-icon-design-avatar-icon-person-icons-people-icons-are-set-in-trendy-flat-style-user-icon-set-vector.jpg\"\r\n              className=\"circle\"\r\n            />\r\n            <span className=\"title\">\r\n              {colab.firstname} {colab.lastname}\r\n            </span>\r\n            <p>{colab.email}</p>\r\n          </li>\r\n        );\r\n      }\r\n      colaboratorui = (\r\n        <div className=\"row\">\r\n          <ul class=\"collection\">{collaborators}</ul>\r\n        </div>\r\n      );\r\n    }\r\n    let placesToVisitUI = \"\";\r\n\r\n    if ((this.state.trips?.placesToVisit?.length || 0) > 0) {\r\n      var placesUI = [];\r\n      for (var i = 0; i < this.state.trips.placesToVisit.length; i++) {\r\n        var place = this.state.trips.placesToVisit[i];\r\n        placesUI.push(\r\n          <li>\r\n            <div className=\"collapsible-header\">\r\n              <i class=\"material-icons large\">place</i>\r\n              <p style={{ fontStyle: \"bold\" }}>\r\n                <strong>{place.Name}</strong>\r\n              </p>\r\n              <span className=\"new badge\" data-badge-caption=\"\">\r\n                $ {place.EntranceFeeINR}\r\n              </span>\r\n              <i\r\n                class=\"material-icons\"\r\n                data-place-id={place._id}\r\n                onClick={this.onDelete}\r\n              >\r\n                delete\r\n              </i>\r\n            </div>\r\n            <div className=\"collapsible-body\">\r\n              <table className=\"striped centered highlight\">\r\n                <tbody>\r\n                  <td>\r\n                    <strong>Type</strong>\r\n                  </td>\r\n                  <td>{place.Type}</td>\r\n                </tbody>\r\n                <tbody>\r\n                  <td>\r\n                    <strong>City</strong>\r\n                  </td>\r\n                  <td>{place.City}</td>\r\n                </tbody>\r\n                <tbody>\r\n                  <td>\r\n                    <strong>State</strong>\r\n                  </td>\r\n                  <td>{place.State}</td>\r\n                </tbody>\r\n                <tbody>\r\n                  <td>\r\n                    <strong>Zone</strong>\r\n                  </td>\r\n                  <td>{place.Zone}</td>\r\n                </tbody>\r\n                <tbody>\r\n                  <td>\r\n                    <strong>Establishment Year</strong>\r\n                  </td>\r\n                  <td>{place.EstablishmentYear}</td>\r\n                </tbody>\r\n                <tbody>\r\n                  <td>\r\n                    <strong>Time Needed To Visit</strong>\r\n                  </td>\r\n                  <td>{place.TimeNeededToVisit}</td>\r\n                </tbody>\r\n                <tbody>\r\n                  <td>\r\n                    <strong>Google Review Rating</strong>\r\n                  </td>\r\n                  <td>{place.GoogleReviewRating}</td>\r\n                </tbody>\r\n                <tbody>\r\n                  <td>\r\n                    <strong>Airport With 50 km Radius</strong>\r\n                  </td>\r\n                  <td>{place.AirportWith50kmRadius}</td>\r\n                </tbody>\r\n                <tbody>\r\n                  <td>\r\n                    <strong>Significance</strong>\r\n                  </td>\r\n                  <td>{place.Significance}</td>\r\n                </tbody>\r\n                <tbody>\r\n                  <td>\r\n                    <strong>Best Time To Visit</strong>\r\n                  </td>\r\n                  <td>{place.BestTimeToVisit}</td>\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n          </li>\r\n        );\r\n      }\r\n      placesToVisitUI = (\r\n        <ul\r\n          className=\"collapsible popout\"\r\n          style={{\r\n            // width: \"90%\",\r\n            // marginLeft: \"5%\",\r\n            marginBottom: \"20px\",\r\n          }}\r\n        >\r\n          {placesUI}\r\n        </ul>\r\n      );\r\n    }\r\n    let previousRemainingBudget = this.remainingBudget;\r\n    this.remainingBudget = this.state.trips?.budget || 0;\r\n    for (let i = 0; i < (this.state.trips?.placesToVisit.length || 0); i++) {\r\n      var places = this.state.trips.placesToVisit[i];\r\n      //   console.log(\"Remaining budget: \", places, this.state.trips);\r\n      this.remainingBudget -= places.EntranceFeeINR || 0;\r\n    }\r\n    if (previousRemainingBudget >= 0 && this.remainingBudget < 0) {\r\n      Swal.fire({\r\n        icon: \"error\",\r\n        title: \"Budget Exceeded\",\r\n        text: \"You have exceeded you trip budget.\",\r\n        allowOutsideClick: false,\r\n      });\r\n    }\r\n    let textColor = \"\";\r\n    if (this.remainingBudget < 0) {\r\n      textColor = \"red-text\";\r\n    }\r\n    let collaboratorInputId = \"collaborator-input-\" + this.id;\r\n    let placesInputId = \"place-input-\" + this.id;\r\n    return (\r\n      <div\r\n        className=\"container z-depth-4\"\r\n        style={{\r\n          marginTop: \"10px\",\r\n          marginBottom: \"10px\",\r\n          borderRadius: \"10px\",\r\n        }}\r\n      >\r\n        <div className=\"row\" style={{ margin: \"0.5rem 0 1rem 0\" }}>\r\n          <div\r\n            className=\"col s12 m6 l4 center-align\"\r\n            style={{ padding: \"10px\" }}\r\n          >\r\n            <h2>\r\n              {this.state.trips?.tripCreator?.firstname}{\" \"}\r\n              {this.state.trips?.tripCreator?.lastname}\r\n            </h2>\r\n            <p>Trip Creator</p>\r\n          </div>\r\n          <div\r\n            className=\"col s12 m6 l4 center-align\"\r\n            style={{ padding: \"10px\" }}\r\n          >\r\n            <h2>{this.state.trips.tripDate.split(\"T\")[0]}</h2>\r\n            <p>Start Date</p>\r\n          </div>\r\n          <div className=\"col s12 m6 l4 center-align\">\r\n            <div style={{ padding: \"10px\", marginTop: \"25px\" }}>\r\n              <h5>\r\n                <strong>Allocated Budget: </strong> $ {this.state.trips.budget}\r\n              </h5>\r\n              <h5 className={textColor}>\r\n                <strong>Remaining Budget: </strong> $ {this.remainingBudget}\r\n              </h5>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"row\">\r\n          <div className=\"col s10 m4 offfset-m6 l3 offset-l4\">\r\n            <a class=\"waves-effect btn right\" onClick={this.downloadPdf}>\r\n              <i class=\"material-icons left\">download</i>Download PDF\r\n            </a>\r\n          </div>\r\n        </div>\r\n        <div\r\n          className=\"row\"\r\n          style={{ paddingLeft: \"25px\", paddingRight: \"25px\" }}\r\n        >\r\n          <div className=\"col s12 l3\">\r\n            <h3 className=\"left-align\">Collaborators</h3>\r\n          </div>\r\n          <div className=\"col s8 l7\" style={{ marginTop: \"15px\" }}>\r\n            <div className=\"input-field col s12\">\r\n              <i className=\"material-icons prefix\">people</i>\r\n              <input type=\"text\" id={collaboratorInputId} />\r\n              <label for={collaboratorInputId}>Add collaborators</label>\r\n            </div>\r\n          </div>\r\n          <div className=\"col s4 l2\" style={{ marginTop: \"30px\" }}>\r\n            <a class=\"waves-effect btn right\" onClick={this.addCollaborator}>\r\n              <i class=\"material-icons left\">add</i>Add\r\n            </a>\r\n          </div>\r\n        </div>\r\n\r\n        {colaboratorui}\r\n\r\n        <div\r\n          className=\"row\"\r\n          style={{ paddingLeft: \"25px\", paddingRight: \"25px\" }}\r\n        >\r\n          <div className=\"col s12 l3\">\r\n            <h3 className=\"left-align\">Places To Visit</h3>\r\n          </div>\r\n          <div className=\"col s12 l9\" style={{ marginTop: \"15px\" }}>\r\n            <div className=\"input-field col s12\">\r\n              <i className=\"material-icons prefix\">place</i>\r\n              <input type=\"text\" id={placesInputId} class=\"autocomplete\" />\r\n              <label for={placesInputId}>Add new locations</label>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"row\">{placesToVisitUI}</div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n// export default withRouter(Trip);\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}