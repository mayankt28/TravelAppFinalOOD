{"ast":null,"code":"var _jsxFileName = \"/Users/mayank/Downloads/Datta/TravelCompOODWebApp/travel_comp_odd_web_app/src/components/MyTrips.js\";\nimport React, { Component } from \"react\";\nimport NavBar from \"./Navbar\";\nimport Footer from \"./Footer\";\nimport Trip from \"./Trip\";\nimport { getDestinations, getTripByUser, getTripByCollaborator } from \"../Api\";\nimport M from \"materialize-css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class MyTrips extends Component {\n  constructor() {\n    super();\n    this.state = {\n      loading: true,\n      userTrips: null,\n      collaboratorTrips: null,\n      places: null\n    };\n    this.getAllTripsByUser = this.getAllTripsByUser.bind(this);\n    this.getAllTripsByUser();\n    this.getAllTripsByCollaborator = this.getAllTripsByCollaborator.bind(this);\n    this.getAllTripsByCollaborator();\n    this.getAllPlaces = this.getAllPlaces.bind(this);\n    this.getAllPlaces();\n    this.initializeComponents = this.initializeComponents.bind(this);\n  }\n  getAllTripsByUser() {\n    getTripByUser().then(val => {\n      if (val[0]) {\n        this.setState(prevState => ({\n          ...prevState,\n          loading: false,\n          userTrips: val[1]\n        }));\n      }\n    });\n  }\n  getAllTripsByCollaborator() {\n    getTripByCollaborator().then(val => {\n      if (val[0]) {\n        this.setState(prevState => ({\n          ...prevState,\n          loading: false,\n          collaboratorTrips: val[1]\n        }));\n      }\n    });\n  }\n  getAllPlaces() {\n    getDestinations().then(val => {\n      if (val[0]) {\n        this.setState(prevState => ({\n          ...prevState,\n          loading: false,\n          places: val[1]\n        }), this.initializeComponents);\n      }\n    });\n  }\n  toObject(arr) {\n    var rv = {};\n    for (var i = 0; i < arr.length; i++) {\n      rv[arr[i].Name] = arr[i]._id;\n    }\n    return rv;\n  }\n  onLocationAdded(el, t) {\n    console.log(el, t);\n  }\n  initializeComponents() {\n    var elems = document.querySelectorAll(\"#place-input\"); // + this.id);\n\n    let placeNames = this.toObject(this.state.places || []);\n    console.log(\"Place Names: \", placeNames);\n    var instances = M.Autocomplete.init(elems, {\n      data: placeNames,\n      onAutocomplete: this.onLocationAdded\n    });\n    // instances.forEach((el) => el.updateData(placeNames));\n  }\n  componentDidUpdate() {\n    if (document.readyState !== \"loading\") {\n      this.initializeComponents();\n    } else {\n      document.addEventListener(\"DOMContentLoaded\", this.initializeComponents);\n    }\n  }\n  render() {\n    var _this$state$userTrips, _this$state$collabora;\n    console.log(\"State: \", this.state);\n    if (this.state.loading) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"center-align\",\n          children: \" You have no trips planned!! \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }, this);\n    }\n    let userTripsUI = [];\n    if ((_this$state$userTrips = this.state.userTrips) !== null && _this$state$userTrips !== void 0 && _this$state$userTrips.length || 0 > 0) {\n      for (var i = 0; i < this.state.userTrips.length; i++) {\n        userTripsUI.push( /*#__PURE__*/_jsxDEV(Trip, {\n          trip: this.state.userTrips[i],\n          places: this.state.places\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 11\n        }, this));\n      }\n    }\n    let colabTripsUI = [];\n    if ((_this$state$collabora = this.state.collaboratorTrips) !== null && _this$state$collabora !== void 0 && _this$state$collabora.length || 0 > 0) {\n      for (var i = 0; i < this.state.collaboratorTrips.length; i++) {\n        colabTripsUI.push( /*#__PURE__*/_jsxDEV(Trip, {\n          trip: this.state.collaboratorTrips[i],\n          places: this.state.places\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 11\n        }, this));\n      }\n    } else {\n      colabTripsUI = /*#__PURE__*/_jsxDEV(\"h4\", {\n        className: \"center-align\",\n        children: \"No one has collaborated on your trips\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 9\n      }, this);\n    }\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(NavBar, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"center-align\",\n        children: \"User Trips\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 9\n      }, this), userTripsUI, /*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"center-align\",\n        children: \"Collaborated Trips\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 9\n      }, this), colabTripsUI, /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 7\n    }, this);\n  }\n}","map":{"version":3,"names":["React","Component","NavBar","Footer","Trip","getDestinations","getTripByUser","getTripByCollaborator","M","jsxDEV","_jsxDEV","MyTrips","constructor","state","loading","userTrips","collaboratorTrips","places","getAllTripsByUser","bind","getAllTripsByCollaborator","getAllPlaces","initializeComponents","then","val","setState","prevState","toObject","arr","rv","i","length","Name","_id","onLocationAdded","el","t","console","log","elems","document","querySelectorAll","placeNames","instances","Autocomplete","init","data","onAutocomplete","componentDidUpdate","readyState","addEventListener","render","_this$state$userTrips","_this$state$collabora","children","className","fileName","_jsxFileName","lineNumber","columnNumber","userTripsUI","push","trip","colabTripsUI"],"sources":["/Users/mayank/Downloads/Datta/TravelCompOODWebApp/travel_comp_odd_web_app/src/components/MyTrips.js"],"sourcesContent":["import React, { Component } from \"react\";\r\nimport NavBar from \"./Navbar\";\r\nimport Footer from \"./Footer\";\r\nimport Trip from \"./Trip\";\r\nimport { getDestinations, getTripByUser, getTripByCollaborator } from \"../Api\";\r\nimport M from \"materialize-css\";\r\n\r\nexport default class MyTrips extends Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      loading: true,\r\n      userTrips: null,\r\n      collaboratorTrips: null,\r\n      places: null,\r\n    };\r\n\r\n    this.getAllTripsByUser = this.getAllTripsByUser.bind(this);\r\n    this.getAllTripsByUser();\r\n    this.getAllTripsByCollaborator = this.getAllTripsByCollaborator.bind(this);\r\n    this.getAllTripsByCollaborator();\r\n    this.getAllPlaces = this.getAllPlaces.bind(this);\r\n    this.getAllPlaces();\r\n    this.initializeComponents = this.initializeComponents.bind(this);\r\n  }\r\n\r\n  getAllTripsByUser() {\r\n    getTripByUser().then((val) => {\r\n      if (val[0]) {\r\n        this.setState((prevState) => ({\r\n          ...prevState,\r\n          loading: false,\r\n          userTrips: val[1],\r\n        }));\r\n      }\r\n    });\r\n  }\r\n\r\n  getAllTripsByCollaborator() {\r\n    getTripByCollaborator().then((val) => {\r\n      if (val[0]) {\r\n        this.setState((prevState) => ({\r\n          ...prevState,\r\n          loading: false,\r\n          collaboratorTrips: val[1],\r\n        }));\r\n      }\r\n    });\r\n  }\r\n\r\n  getAllPlaces() {\r\n    getDestinations().then((val) => {\r\n      if (val[0]) {\r\n        this.setState(\r\n          (prevState) => ({\r\n            ...prevState,\r\n            loading: false,\r\n            places: val[1],\r\n          }),\r\n          this.initializeComponents\r\n        );\r\n      }\r\n    });\r\n  }\r\n\r\n  toObject(arr) {\r\n    var rv = {};\r\n    for (var i = 0; i < arr.length; i++) {\r\n      rv[arr[i].Name] = arr[i]._id;\r\n    }\r\n    return rv;\r\n  }\r\n  onLocationAdded(el, t) {\r\n    console.log(el, t);\r\n  }\r\n  initializeComponents() {\r\n    var elems = document.querySelectorAll(\"#place-input\"); // + this.id);\r\n\r\n    let placeNames = this.toObject(this.state.places || []);\r\n    console.log(\"Place Names: \", placeNames);\r\n    var instances = M.Autocomplete.init(elems, {\r\n      data: placeNames,\r\n      onAutocomplete: this.onLocationAdded,\r\n    });\r\n    // instances.forEach((el) => el.updateData(placeNames));\r\n  }\r\n  componentDidUpdate() {\r\n    if (document.readyState !== \"loading\") {\r\n      this.initializeComponents();\r\n    } else {\r\n      document.addEventListener(\"DOMContentLoaded\", this.initializeComponents);\r\n    }\r\n  }\r\n  render() {\r\n    console.log(\"State: \", this.state);\r\n    if (this.state.loading) {\r\n      return (\r\n        <div>\r\n          <h1 className=\"center-align\"> You have no trips planned!! </h1>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    let userTripsUI = [];\r\n    if (this.state.userTrips?.length || 0 > 0) {\r\n      for (var i = 0; i < this.state.userTrips.length; i++) {\r\n        userTripsUI.push(\r\n          <Trip trip={this.state.userTrips[i]} places={this.state.places} />\r\n        );\r\n      }\r\n    }\r\n\r\n    let colabTripsUI = [];\r\n    if (this.state.collaboratorTrips?.length || 0 > 0) {\r\n      for (var i = 0; i < this.state.collaboratorTrips.length; i++) {\r\n        colabTripsUI.push(\r\n          <Trip\r\n            trip={this.state.collaboratorTrips[i]}\r\n            places={this.state.places}\r\n          />\r\n        );\r\n      }\r\n    } else {\r\n      colabTripsUI = (\r\n        <h4 className=\"center-align\">No one has collaborated on your trips</h4>\r\n      );\r\n    }\r\n    return (\r\n      <div>\r\n        <NavBar />\r\n        <h2 className=\"center-align\">User Trips</h2>\r\n        {userTripsUI}\r\n        <h2 className=\"center-align\">Collaborated Trips</h2>\r\n        {colabTripsUI}\r\n        <Footer />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}